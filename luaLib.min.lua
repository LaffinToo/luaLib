gettype=function(a)local b=typeOf(a)if b=="userdata"then return a:typeOf()end;return b end;is_string=function(c)if typeOf(c)=="string"then return true end end;is_bool=function(d)if typeOf(d)=="boolean"then return true end;return false end;is_numeric=function(e)if tonumber(e)~=nil then return true end;return false end;is_float=function(e)if e~=math.floor(e)then return true end;return false end;is_table=function(a)if typeOf(a)=="table"then return true end;return false end;print_r=function(a,f,g)table.show=function(a,f,g)local h;local i;local function j(a)return next(a)==nil end;local function k(l)local m=tostring(l)if typeOf(l)=="function"then local n=debug.getinfo(l,"S")if n.what=="C"then return string.format("%q",m..", C function")else return string.format("%q",m..", defined in ("..n.linedefined.."-"..n.lastlinedefined..")"..n.source)end elseif typeOf(l)=="number"or typeOf(l)=="boolean"then return m else return string.format("%q",m)end end;local function o(p,f,g,q,r)g=g or""q=q or{}r=r or f;h=h..g..r;if typeOf(p)~="table"then h=h.." = "..k(p)..";\n"else if q[p]then h=h.." = {}; -- "..q[p].." (self reference)\n"i=i..f.." = "..q[p]..";\n"else q[p]=f;if j(p)then h=h.." = {};\n"else h=h.." = {\n"for s,t in pairs(p)do s=k(s)local u=string.format("%s[%s]",f,s)r=string.format("[%s]",s)o(t,u,g.."   ",q,r)end;h=h..g.."};\n"end end end end;f=f or"__unnamed__"if typeOf(a)~="table"then return f.." = "..k(a)end;h,i="",""o(a,f,g)return h..i end;print(table.show(a,f,g))end;trim=function(c)return c:gsub("^%s*(.-)%s*$","%1")end;ltrim=function(c)return c:gsub("^%s*","")end;rtrim=function(c)local e=#c;while e>0 and c:find("^%s",e)do e=e-1 end;return c:sub(1,e)end;explode=function(c,v)v=v or"%s"local w,x={},1;for y in string.gmatch(c,"([^"..v.."]+)")do w[x]=y;x=x+1 end;return w end;str_replace=function(z,A,c,B)B=B or nil;return string.gsub(z,A,c,B)end;count=function(C)local count=0;for D in pairs(C)do count=count+1 end;return count end;in_table=function(E,t)for x,a in ipairs(E)do if a==t then return true end end;return false end;table_reverse=function(a)local A={}local x=#a;for s,t in ipairs(a)do A[x+1-s]=t end;return A end;is_dir=function(c)if is_string(c)and not c:match("(.+)%..+")then return true end;return false end;basename=function(F)local a=explode(F,"/")return a[#a]end;dirname=function(c)local a,A=explode(c,"/"),""for x,t in ipairs(a)do if x<#a then A=A..t.."/"end end;return A end;file_extension=function(G)local c=G;local a=""local A=""for x=c:len(),1,-1 do if c:sub(x,x)~="."then a=a..c:sub(x,x)else break end end;for H=a:len(),1,-1 do A=A..a:sub(H,H)end;return A end;mkdir=function(F)if os.execute("mkdir -p \""..F.."\"")==0 then return true end;return false end;rmdir=function(F)if os.execute("rm -rf  \""..F.."\"")==0 then return true end;return false end;copy=function(c,v)if mkdir(v)and os.execute("cp -rf \""..c.."\" \""..v.."\"")==0 then return true end;return false end;function scandir(I,J)J=J or"/sdcard/__temp/"local K=J.."_scandir_"local L="ls "..I.." > "..K;if not mkdir(J)then return false,"_mkdir_"end;if os.execute(L)~=0 then return false,"_list_"end;local M={}for N in io.lines(K)do M[#M+1]=N end;if not rmdir(K)then return false,"_rmdir_"end;return M end;pathinfo=function(F,O)local A={}local P=not O and 4 or 1;for x=1,P do if O=="PATHINFO_DIRNAME"or P==4 then A["dirname"]=dirname(F)end;if O=="PATHINFO_BASENAME"or P==4 then A["basename"]=basename(F)end;if O=="PATHINFO_EXTENSION"or P==4 then A["extension"]=file_extension(F)end;if O=="PATHINFO_FILENAME"or P==4 then A["filename"]=str_replace(basename(F),"(%.%w+)$","")end end;if P==1 then return A[string.lower(str_replace(O,"(.*)%_",""))]else return A end end;btn_home=function()keyevent(3)end;btn_back=function(x,Q)x=x or 1;Q=Q or 0;while x>0 do keyevent(4)wait(Q)x=x-1 end end;btn_switch=function(x,Q)x=x or 0;Q=Q or 0;while x>0 do wait(Q)keyevent(187)x=x-1 end end;clone_table=function(a)local copy;if is_table(a)then copy={}for R,S in next,a,nil do copy[clone_table(R)]=clone_table(S)end;setmetatable(copy,clone_table(getmetatable(a)))else copy=a end;return copy end;odd=function(e)return not(e%2==0)end;random_string=function(P)local T={}for x=48,57 do table.insert(T,string.char(x))end;for x=65,90 do table.insert(T,string.char(x))end;for x=97,122 do table.insert(T,string.char(x))end;math.randomseed(os.time())if P>0 then return random_string(P-1)..T[math.random(1,#T)]else return""end end;location_to_string=function(U)return tostring(string.format("Location(%d, %d)",U:getX(),U:getY()))end;region_to_string=function(A)return tostring(string.format("Region(%d, %d, %d, %d)",A:getX(),A:getY(),A:getW(),A:getH()))end;is_location=function(t)if gettype(t)=="Location"then return true end;return false end;is_region=function(t)if gettype(t)=="Region"then return true end;return false end;is_match=function(t)if gettype(t)=="Match"then return true end;return false end;is_pattern=function(t)if gettype(t)=="Pattern"then return true,t:getFileName()end;return false,"_none_"end;debug_r=function(V,W,X)if DEBUG_R==true or DEBUG_R==nil then local Y,Z,Q,_=0,0,0,0;local a0=""X=X or 3;if is_table(W)then Y=W[1]Z=W[2]Q=W[3]or 10;_=W[4]or 10;a0=not W[3]and"Table(Location)"or"Table(Region)"elseif is_region(W)or is_match(W)then a0=is_region(W)and"Region"or"Match"Y=W:getX()Z=W:getY()Q=W:getW()_=W:getH()elseif is_location(W)then a0="Location"Y=W:getX()-10;Z=W:getY()-10;Q=20;_=20 elseif is_pattern(W)or is_string(W)then a0=is_string(W)and"String"or"Pattern"if exists(W)then local a1=getLastMatch()local a2=a1:getTarget()local a3=a1:getCenter()Y=a1:getX()Z=a1:getY()Q=a1:getW()_=a1:getH()toast("IMG - Target | "..V)Region(a2:getX()-10,a2:getY()-10,20,20):highlight(X)toast("IMG - Center | "..V)Region(a3:getX()-10,a3:getY()-10,20,20):highlight(X)else toast("IMG not found")end end;toast(a0 .." | "..V)Region(Y,Z,Q,_):highlight(X)end end;img_r=function(t,X)X=X or 2;if not is_string(t)then toast("strign expected at img_r ->"..gettype(t))return t end;t=str_replace(t,".png","")..".png"if DEBUG_R==true or DEBUG_R==nil then local a=Timer()if exists(t)then debug_r(t.." - time elapsed: "..a:set(),getLastMatch(),X)end end;return t end;table_to_string=function(table,a4)a4=a4 or""local a5="{"for a6,p in pairs(table)do a5=a5 .."\n\t"..a4 ..tostring(a6).." = "if gettype(p)=="Location"then a5=a5 ..location_to_string(p)elseif gettype(p)=="Region"then a5=a5 ..region_to_string(p)elseif is_table(p)then a5=a5 ..table_to_string(p,a4 .."\t")elseif is_string(p)then a5=a5 .."'"..p.."'"elseif is_bool(p)then a5=a5 ..tostring(p)else a5=a5 ..p end;a5=a5 ..","end;a5=a5 .."\n"..a4 .."}\n"return a5 end;get_values=function(t)if is_location(t)then return{x=t:getX(),y=t:getY()}elseif is_region(t)then return{x=t:getX(),y=t:getY(),w=t:getW(),h=t:getH()}elseif is_match(t)then return{x=t:getX(),y=t:getY(),w=t:getW(),h=t:getH(),center=get_values(t:getCenter()),score=t:getScore(),target=get_values(t:getTarget())}elseif is_table(t)then local A={}for s,e in pairs(t)do A[#A+1]=e end;return A else return{}end end;is_timeout=function(a7,a8)if a7:check()>a8 then return true end;return false end;get_clock=function(a)a=tonumber(a)local A={h=00,m=00,s=00}local c="00:00:00"if a>0 then A.h=string.format("%02.f",math.floor(a/3600))A.m=string.format("%02.f",math.floor(a/60-A.m*60))A.s=string.format("%02.f",math.floor(a-A.h*3600-A.m*60))c=A.h..":"..A.m..":"..A.s end;return c,A end;is_double=function(...)return is_float(...)end;is_array=function(...)return is_table(...)end;clone_array=function(...)return clone_table(...)end;array_to_string=function(...)return table_to_string(...)end;in_array=function(...)return in_table(...)end;array_reverse=function(...)return table_reverse(...)end
